<!--
 * @Author: ailiang
 * @Date: 2020-12-02 09:11:26
 * @LastEditors: ailiang
 * @LastEditTime: 2020-12-07 14:21:23
-->
<!DOCTYPE html>
<html>
<head>
   <meta charset='UTF-8'>
   <title>异步编程</title>
   <style>
     #circle{
       width: 100px;
       height: 100px;
       border-radius: 50%;
       background-color: green;
     }
   </style>
</head>
<body>
  <div id="circle"></div>
<script>
  let circle = document.getElementById('circle');

  function delay(time) {
    return new Promise((resolve, reject) => {
      setTimeout(resolve, time)
    })
  }
  async function changeColor(color, time) {
    circle.style.background= color
    console.log('color change to '+color )
    await delay(time)
  }
  async function run() {
    while(true) {
      await changeColor('green', 6000)
      await changeColor('red', 3000)
      await changeColor('yellow', 1000)
    }
  }
  run()
</script>
</body>
</html>